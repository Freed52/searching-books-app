(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,t,n){e.exports={book_wrapper:"Book_book_wrapper__1tehz",details_bookcard:"Book_details_bookcard__BFCM3",upper:"Book_upper__2u3ND",mid:"Book_mid__1F1Yy",low:"Book_low__1It5y",cover:"Book_cover__jlJGX",title:"Book_title__1SLo9",authors:"Book_authors__qUIjX",categories:"Book_categories__2ejOu",desc:"Book_desc__3jr0E",warn:"Book_warn__2b_pB",books:"Book_books__2RUxh"}},14:function(e,t,n){e.exports={header:"Header_header__1fnJb",header_filter__pad:"Header_header_filter__pad__DR9kC",headline:"Header_headline__3XSgs",form:"Header_form__151TR",searchline:"Header_searchline__2mBSE",selectors:"Header_selectors__30Bpc"}},48:function(e,t,n){e.exports={button:"StartButton_button__36yh2"}},49:function(e,t,n){e.exports={home_page_wrapper:"HomePage_home_page_wrapper__1_Qp6"}},50:function(e,t,n){e.exports={rootpage_wrapper:"RootPage_rootpage_wrapper__1kXLy"}},58:function(e,t,n){},7:function(e,t,n){e.exports={foundbooks_wrapper:"FoundBooks_foundbooks_wrapper__2e63T",totalcount:"FoundBooks_totalcount__3CDzv",morebooks_button:"FoundBooks_morebooks_button__2pTyM",books:"FoundBooks_books__HjjJO",book_card:"FoundBooks_book_card__1Vlwc",title:"FoundBooks_title__34CZ6",cover:"FoundBooks_cover__3dfxW",authors:"FoundBooks_authors__2ayOz",category:"FoundBooks_category__1-JrP",plug:"FoundBooks_plug__3F8rc",warn:"FoundBooks_warn__22AlJ"}},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var r,o,a,c,s,l,i,u,d,b,j,p,h,f,m,O=n(0),_=n.n(O),x=n(22),g=n.n(x),k=n(15),v=n(16),y=n(42),w=n(43),B=n(4),N="INIT-SELECTORS",E="SET-BOOKS",S="SET-CHOOSE-BOOK",F="CLEAR-BOOKS-LIST",I={selectors:[{orderBy:"categories",label:"Categories",categories:["all","art","biography","computers","history","medical","poetry"],choosen:"all"},{orderBy:"sorting",label:"Sorting by",categories:["relevance","newest"],choosen:"relevance"}]},C={books:[],totalItems:0,totalPages:0,keywords:"",category:"",filter:""},T={book:{}},H=Object(v.combineReducers)({selectors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(B.a)(Object(B.a)({},e),{},{selectors:e.selectors.map((function(e){return e.categories.filter((function(n){return n===t.payload&&(e.choosen=n),e})),e}))});default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(B.a)(Object(B.a)({},e),{},{books:e.books.length?e.books.concat(t.payload.items.filter((function(t,n){return e.books[n].id!==t.id}))):e.books.concat(t.payload.items),totalItems:t.payload.totalItems,totalPages:Math.ceil(t.payload.totalItems/30),keywords:t.keywords,category:t.category,filter:t.filter});case F:return Object(B.a)(Object(B.a)({},e),{},{books:[],keywords:t.payload,category:"",filter:""});default:return e}},chooseBook:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(B.a)(Object(B.a)({},e),{},{book:t.payload});default:return e}}}),L=[y.a],P=Object(v.createStore)(H,{},Object(w.composeWithDevTools)(v.applyMiddleware.apply(void 0,L))),D=n(6),M=(n(58),n(5)),R=n(14),z=n.n(R),J=n(1),A=function(e){return Object(J.jsx)("div",{className:z.a.headline,children:Object(J.jsx)("h1",{children:"Search for books"})})},X=n(29),K=function(e){return function(t){t({type:N,payload:e})}},U=n(17),V=n.n(U),W=n(24),q=n(44).create({baseURL:"http://localhost:5000/"}),G=function(e,t,n,r){return q.get("api/books?search=".concat(e,"&genre=").concat(t,"&orderBy=").concat(n,"&startIndex=").concat(r))},Q=function(e){return q.get("api/book/".concat(e))},Y=function(e,t,n,r){return function(){var o=Object(W.a)(V.a.mark((function o(a){var c;return V.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,G(e,t,n,r);case 2:if(200!==(c=o.sent).status){o.next=5;break}return o.abrupt("return",a({type:E,payload:c.data,keywords:e,category:t,filter:n}));case 5:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},Z=function(e){return function(t){t({type:F,payload:e})}},$=n(45),ee=n(46),te=function(e){var t=e.match.params.index,n=Object(D.c)(),r=Object(D.d)((function(e){return e.selectors.selectors}),D.b),o=Object(D.d)((function(e){return e.books}),D.b),a=Object(O.useState)(""),c=Object(X.a)(a,2),s=c[0],l=c[1],i=Object(O.useState)(t),u=Object(X.a)(i,2),d=u[0],b=u[1];return Object(O.useEffect)((function(){b(0),n(Z(s))}),[s,n]),Object(O.useEffect)((function(){if(t)return b(t)}),[t]),Object(O.useEffect)((function(){var e=o.category,t=o.filter;e&&t&&(o.totalPages>d?n(Y(s,e,t,d)):console.log("that's all folks")),l(o.keywords)}),[d,n]),Object(J.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var r=t.target.myInput.value,o=t.target.categories.value,a=t.target.sorting.value;n(Y(r,o,a,d)),e.history.push("/books/".concat(d))}(t)},className:z.a.form,children:[Object(J.jsxs)("div",{className:z.a.searchline,children:[Object(J.jsx)("input",{id:"myInput",value:"".concat(s),onFocus:function(e){return function(e){e.preventDefault()}(e)},onChange:function(e){return function(e){e.preventDefault();var t=e.target.value;l(t)}(e)},placeholder:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a..."}),Object(J.jsx)("button",{type:"submit",children:Object(J.jsx)($.a,{icon:ee.a})})]}),Object(J.jsx)("div",{className:z.a.selectors,children:r.map((function(e){return Object(J.jsxs)("label",{children:[e.label,Object(J.jsx)("select",{id:e.orderBy,value:e.choosen,onFocus:function(e){return function(e){e.preventDefault(),n(K(e.target.value))}(e)},onChange:function(e){return function(e){e.preventDefault(),n(Z(o.keywords)),n(K(e.target.value))}(e)},children:e.categories.map((function(e){return Object(J.jsx)("option",{value:e,children:e},e)}))})]},e.label)}))})]})},ne=n(7),re=n.n(ne),oe=["title","titleId"];function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function se(e,t){var n=e.title,_=e.titleId,x=ce(e,oe);return O.createElement("svg",ae({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 256.462 256.462",style:{enableBackground:"new 0 0 256.462 256.462"},xmlSpace:"preserve",ref:t,"aria-labelledby":_},x),n?O.createElement("title",{id:_},n):null,O.createElement("g",null,O.createElement("path",{style:{fill:"#010002"},d:"M67.509,103.278c0,16.475,0.483,31.171,1.939,45.539h-0.322 c-5.006-12.274-11.307-25.831-17.769-37.305L28.748,71.623H0v108.854h22.614v-32.782c0-17.769-0.328-33.116-1.134-47.645h0.644 c5.167,12.751,12.435,26.815,18.897,38.427l23.253,42.001h25.843V71.623H67.509V103.278z"}),O.createElement("path",{style:{fill:"#010002"},d:"M103.352,186.778h16.313l34.56-117.094h-16.313L103.352,186.778z"}),O.createElement("path",{style:{fill:"#010002"},d:"M222.54,71.629h-32.293l-33.116,108.854h25.359l7.751-27.949h31.165l8.401,27.949h26.654 C256.462,180.483,222.54,71.629,222.54,71.629z M193.786,134.12l6.468-23.092c1.778-6.301,3.389-14.541,5.006-21.003h0.322 c1.617,6.462,3.556,14.541,5.49,21.003l6.784,23.092H193.786z"})),r||(r=O.createElement("g",null)),o||(o=O.createElement("g",null)),a||(a=O.createElement("g",null)),c||(c=O.createElement("g",null)),s||(s=O.createElement("g",null)),l||(l=O.createElement("g",null)),i||(i=O.createElement("g",null)),u||(u=O.createElement("g",null)),d||(d=O.createElement("g",null)),b||(b=O.createElement("g",null)),j||(j=O.createElement("g",null)),p||(p=O.createElement("g",null)),h||(h=O.createElement("g",null)),f||(f=O.createElement("g",null)),m||(m=O.createElement("g",null)))}var le=O.forwardRef(se),ie=(n.p,function(e){var t=e.children.volumeInfo,n=t.title,r=t.imageLinks,o=t.authors,a=t.categories;return Object(J.jsxs)("div",{className:re.a.book_card,children:[Object(J.jsx)("span",{className:re.a.title,children:n}),r?Object(J.jsx)("img",{className:re.a.cover,src:"".concat(r.thumbnail||r.smallThumbnail),alt:"book cover"}):Object(J.jsx)(le,{}),Object(J.jsx)("ul",{className:re.a.authors,children:o?o.map((function(e,t){return Object(J.jsx)("li",{children:e},t)})):Object(J.jsx)("li",{className:re.a.plug,children:"Author don't specified"})}),a?Object(J.jsx)("div",{className:re.a.category,children:a[0]}):Object(J.jsx)("div",{className:re.a.plug,children:"Category don't specified"})]})}),ue=n(47),de=n(12),be=n.n(de),je=function(e){var t=e.children,n=t.title,r=t.imageLinks,o=t.authors,a=t.categories,c=t.description;return Object(J.jsxs)("div",{className:be.a.details_bookcard,children:[Object(J.jsxs)("div",{className:be.a.upper,children:[r?Object(J.jsx)("img",{className:be.a.cover,src:"".concat(r.thumbnail||r.smallThumbnail),alt:"book cover"}):Object(J.jsx)(le,{}),Object(J.jsx)("span",{className:be.a.title,children:n})]}),Object(J.jsxs)("div",{className:be.a.mid,children:[Object(J.jsx)("div",{className:be.a.authors,children:o?o.map((function(e){return Object(J.jsx)("span",{children:e},e)})):Object(J.jsx)("span",{children:"Authors not specified"})}),Object(J.jsx)("div",{className:be.a.categories,children:a?a.map((function(e){return Object(J.jsx)("span",{children:e},e)})):Object(J.jsx)("span",{children:"Categories not specified"})})]}),Object(J.jsx)("div",{className:be.a.low,children:Object(J.jsx)("span",{className:be.a.desc,children:c?Object(ue.a)(c):"no description"})})]})},pe=n(48),he=n.n(pe),fe=function(e){return Object(J.jsx)(k.b,{className:he.a.button,to:"/books/0",children:"Start"})},me=function(e){return Object(J.jsxs)("div",{className:re.a.totalcount,children:["\u0412\u0441\u0435\u0433\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043e: ",Object(J.jsx)("span",{children:e.children})]})},Oe=function(e){return Object(J.jsxs)("div",{className:z.a.header,children:[Object(J.jsx)("div",{className:z.a.header_filter__pad}),Object(J.jsx)(A,{}),Object(J.jsx)(te,Object(B.a)({},e))]})},_e=_.a.memo(Oe),xe=function(e){var t=Object(D.d)((function(e){return e.books.books}),D.b),n=Object(D.d)((function(e){return e.books.totalItems}),D.b);return Object(J.jsxs)("div",{className:re.a.foundbooks_wrapper,children:[Object(J.jsx)(me,{children:n}),Object(J.jsx)("div",{className:re.a.morebooks_button,children:Object(J.jsx)("button",{onClick:function(){!function(){var t=++e.match.params.index;e.history.push("/books/".concat(t))}()},children:"\u0415\u0449\u0435"})}),Object(J.jsx)("div",{className:re.a.books,children:t.length?t.map((function(e){return Object(J.jsx)(k.b,{to:"/book/".concat(e.id),children:Object(J.jsx)(ie,{children:e})},e.etag)})):Object(J.jsx)("div",{className:re.a.warn,children:"No Books Found"})})]})},ge=_.a.memo(xe),ke=function(e){var t=Object(D.c)(),n=Object(D.d)((function(e){return e.chooseBook.book}),D.b).volumeInfo;return Object(O.useEffect)((function(){var n;t((n=e.match.params.id,function(){var e=Object(W.a)(V.a.mark((function e(t){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(n);case 2:if(200!==(r=e.sent).status){e.next=5;break}return e.abrupt("return",t({type:S,payload:r.data}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e.match.params.id,t]),Object(J.jsx)("div",{className:be.a.book_wrapper,children:n?Object(J.jsx)(je,{children:n}):Object(J.jsx)("div",{className:be.a.warn,children:"No results"})})},ve=_.a.memo(ke),ye=n(49),we=n.n(ye),Be=function(e){return Object(J.jsxs)("div",{className:we.a.home_page_wrapper,children:[Object(J.jsx)(_e,Object(B.a)({},e)),Object(J.jsx)(ge,Object(B.a)({},e))]})},Ne=_.a.memo(Be),Ee=function(e){return Object(J.jsxs)("div",{children:[Object(J.jsx)(_e,Object(B.a)({},e)),Object(J.jsx)(ve,Object(B.a)({},e))]})},Se=_.a.memo(Ee),Fe=n(50),Ie=n.n(Fe),Ce=function(e){return Object(J.jsx)("div",{className:Ie.a.rootpage_wrapper,children:Object(J.jsx)(fe,{})})},Te=_.a.memo(Ce),He=(n(95),Object(M.f)((function(e){return Object(J.jsx)("div",{className:"App",children:Object(J.jsxs)(M.c,{children:[Object(J.jsx)(M.a,{path:"/",exact:!0,render:function(e){return Object(J.jsx)(Te,Object(B.a)({},e))}}),Object(J.jsx)(M.a,{path:"/books/:index",exact:!0,render:function(e){return Object(J.jsx)(Ne,Object(B.a)({},e))}}),Object(J.jsx)(M.a,{path:"/book/:id",exact:!0,render:function(e){return Object(J.jsx)(Se,Object(B.a)({},e))}})]})})}))),Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),o(e),a(e),c(e)}))};g.a.render(Object(J.jsx)(_.a.StrictMode,{children:Object(J.jsx)(k.a,{children:Object(J.jsx)(D.a,{store:P,children:Object(J.jsx)(He,{})})})}),document.getElementById("root")),Le()}},[[96,1,2]]]);
//# sourceMappingURL=main.249be0f4.chunk.js.map